@model EventHub.Models.Group

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>Group</h4>
	<hr />
    <br />
    <button onclick="CreateEventDialog()" class="btn btn-default">Create Event</button>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PicturePath)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PicturePath)
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Delete", "Delete", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
<div id="CreateEventDialog" title="Create New Event">
</div>

@*Move this section to the group main page once that page is created*@
@section scripts
{
    <script type="text/javascript">
        var dialog = $("#CreateEventDialog").dialog({
            autoOpen: false,
            height: 350,
            width: 500
        });

        function CreateEventDialog() {
            $.ajax({
                url: '/Event/Create?groupId=@Model.Id',
                contentType: 'Application/html; charset=utf-8',
                type: 'Get',
                dataType: 'html'
            }).success(function (result) {
                $("#CreateEventDialog").html(result);
            });

            dialog.dialog("open");
        }
    </script>
}